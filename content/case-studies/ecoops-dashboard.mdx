---
title: EcoOps Dashboard
description: Construction & Demolition Recycling Facility Operations Management System transforming manual Excel workflows into a scalable web platform.
date: 2024-06-01
tags:
  - Next.js
  - Hono RPC
  - Prisma
  - PostgreSQL
  - Better Auth
  - React Query
  - Dashboard
featured: true
client: Sustainability Solutions Company
role: Full Stack Developer
duration: 8 months
stack:
  - Next.js 16
  - TypeScript
  - Hono RPC
  - Prisma
  - PostgreSQL
  - Better Auth
  - React Query
  - Tailwind CSS v4
  - Recharts
---

## Problem

Recycling facility operations relied entirely on manual Excel-based workflows. Daily production metrics, material dispatches, equipment utilization, and manpower attendance were tracked across disconnected spreadsheets with no centralized visibility.

Key operational gaps:

- No real-time dashboard for facility performance
- Manual inventory reconciliation prone to calculation errors
- Delayed KPI reporting preventing proactive decision-making
- No role-based access control for multi-site operations
- Audit trail nonexistent for compliance requirements

## Solution

Build a modular operations management platform that digitizes the complete C&D recycling workflow from CDW intake through production to dispatch of saleable aggregates.

### Core Operational Modules

1. **Production Monitoring** — Daily crusher output metrics with material categorization
2. **Dispatch Management** — Transaction records for material shipments to customers
3. **Received Materials** — CDW intake logging with source tracking
4. **Equipment Utilization** — Operational hours and count tracking by equipment type
5. **Manpower Attendance** — Shift-based labor hours and headcount records
6. **Inventory System** — Automated stock calculations from transaction data

### Foundational Modules

1. **Site Management** — Dynamic multi-site architecture with per-site configuration
2. **User Management** — Three-tier RBAC (module permissions, operation permissions, user overrides)
3. **Dashboard Analytics** — Real-time KPIs with interactive visualizations
4. **Export System** — Multi-format output (Excel, PDF, CSV) with background processing
5. **Import System** — Bulk CSV/Excel upload with row-level validation and audit

## Architecture

### API Layer (Hono RPC)

Type-safe RPC endpoints replacing traditional REST patterns. React Query hooks for client-side state management with automatic cache invalidation.

```
app/api/[[...route]]/
├── routes/
│   ├── production.ts
│   ├── dispatch.ts
│   ├── received.ts
│   ├── equipment.ts
│   ├── manpower.ts
│   ├── inventory.ts
│   ├── dashboard.ts
│   ├── sites.ts
│   └── users.ts
└── route.ts
```

### Authentication (Better Auth)

Session-based authentication with role enforcement at route and component levels. Three role tiers with granular permissions:

- **Module Permissions** — Coarse-grained access (VIEW, INPUT, EXPORT, IMPORT per module)
- **Operation Permissions** — Fine-grained actions within modules
- **User Overrides** — Per-user exceptions to role defaults

### Data Model

Automated inventory calculation eliminates manual stock entry:

```
closingStock = openingStock + production - dispatched
```

Transaction data flows through Production, Dispatch, and Received modules. System computes inventory snapshots automatically with full audit trail.

### Multi-Site Operations

Sites are database-managed entities, not hardcoded values. Each site maintains isolated operational data with aggregated views available to administrators. User access grants are site-specific with permission matrices.

## Results

- Real-time operational visibility across all facility metrics
- Dual data entry (web forms + bulk CSV/Excel import) for workflow flexibility
- Automated inventory calculations eliminating reconciliation errors
- Complete audit trail for regulatory compliance
- Role-based access control with site-level granularity
- Background job processing for exports and imports with progress tracking
